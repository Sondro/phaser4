{"version":3,"file":"phaser.es.js","sources":["../src/device/audio/canPlayM4A.ts","../src/device/audio/canPlayMP3.ts","../src/device/audio/canPlayOGG.ts","../src/device/audio/canPlayOpus.ts","../src/device/audio/canPlayWAV.ts","../src/device/audio/canPlayWebM.ts","../src/device/audio/hasAudio.ts","../src/device/audio/hasWebAudio.ts","../src/device/audio/GetAudio.ts","../src/device/audio/index.ts","../src/device/browser/isChrome.ts","../src/device/browser/isEdge.ts","../src/device/browser/isFirefox.ts","../src/device/os/isiOS.ts","../src/device/browser/isMobileSafari.ts","../src/device/browser/isMSIE.ts","../src/device/browser/isOpera.ts","../src/device/os/isWindowsPhone.ts","../src/device/browser/isSafari.ts","../src/device/browser/isSilk.ts","../src/device/browser/isTrident.ts","../src/device/browser/GetBrowser.ts","../src/device/browser/index.ts","../src/device/os/isAndroid.ts","../src/device/os/isChromeOS.ts","../src/device/os/isCordova.ts","../src/device/os/isCrosswalk.ts","../src/device/os/isEjecta.ts","../src/device/os/isNode.ts","../src/device/os/isElectron.ts","../src/device/os/isKindle.ts","../src/device/os/isLinux.ts","../src/device/os/isMacOS.ts","../src/device/os/isNodeWebkit.ts","../src/device/os/isWebApp.ts","../src/device/os/isWindows.ts","../src/device/os/GetOS.ts","../src/device/os/index.ts","../src/device/video/canPlayH264Video.ts","../src/device/video/canPlayHLSVideo.ts","../src/device/video/canPlayOGGVideo.ts","../src/device/video/canPlayVP9Video.ts","../src/device/video/canPlayWebMVideo.ts","../src/device/video/GetVideo.ts","../src/device/video/index.ts","../src/device/index.ts","../src/dom/AddToDOM.ts","../src/dom/DOMContentLoaded.ts","../src/dom/isChrome.ts","../src/dom/RemoveFromDOM.ts","../src/dom/index.ts","../src/Game.ts","../src/loader/BaseLoaderState.ts","../src/loader/FileState.ts","../src/loader/BaseLoader.ts","../src/loader/XHRLoader.ts","../src/loader/XHRSettings.ts","../src/loader/File.ts","../src/loader/filetypes/ImageFile.ts","../src/loader/filetypes/index.ts","../src/loader/LoaderPlugin.ts","../src/loader/index.ts","../src/index.ts"],"sourcesContent":["export function canPlayM4A (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return ((audioElement.canPlayType('audio/x-m4a') !== '') || (audioElement.canPlayType('audio/aac') !== ''));\r\n}\r\n","export function canPlayMP3 (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/mpeg; codecs=\"mp3\"') !== '');\r\n}\r\n","export function canPlayOGG (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/ogg; codecs=\"vorbis\"') !== '');\r\n}\r\n","export function canPlayOpus (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return ((audioElement.canPlayType('audio/ogg; codecs=\"opus\"') !== '') || (audioElement.canPlayType('audio/webm; codecs=\"opus\"') !== ''));\r\n}\r\n","export function canPlayWAV (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/wav; codecs=\"1\"') !== '');\r\n}\r\n","export function canPlayWebM (audioElement: HTMLAudioElement = document.createElement('audio')): boolean\r\n{\r\n    return (audioElement.canPlayType('audio/webm; codecs=\"vorbis\"') !== '');\r\n}\r\n","export function hasAudio (): boolean\r\n{\r\n    return (window.hasOwnProperty('Audio'));\r\n}\r\n","export function hasWebAudio (): boolean\r\n{\r\n    return (window.hasOwnProperty('AudioContext') || window.hasOwnProperty('webkitAudioContext'));\r\n}\r\n","import { canPlayM4A } from './canPlayM4A';\r\nimport { canPlayMP3 } from './canPlayMP3';\r\nimport { canPlayOGG } from './canPlayOGG';\r\nimport { canPlayOpus } from './canPlayOpus';\r\nimport { canPlayWAV } from './canPlayWAV';\r\nimport { canPlayWebM } from './canPlayWebM';\r\nimport { hasAudio } from './hasAudio';\r\nimport { hasWebAudio } from './hasWebAudio';\r\nimport { IDeviceAudioResult } from './IDeviceAudioResult';\r\n\r\nexport function GetAudio (): IDeviceAudioResult\r\n{\r\n    const result: IDeviceAudioResult = {\r\n        audioData: hasAudio(),\r\n        m4a: false,\r\n        mp3: false,\r\n        ogg: false,\r\n        opus: false,\r\n        wav: false,\r\n        webAudio: hasWebAudio(),\r\n        webm: false\r\n    };\r\n\r\n    if (result.audioData)\r\n    {\r\n        const audioElement: HTMLAudioElement = document.createElement('audio');\r\n\r\n        // IE9 Running on Windows Server SKU can cause an exception to be thrown\r\n        try\r\n        {\r\n            const canPlay: boolean = !!audioElement.canPlayType;\r\n\r\n            if (canPlay)\r\n            {\r\n                result.m4a = canPlayM4A(audioElement);\r\n                result.mp3 = canPlayMP3(audioElement);\r\n                result.ogg = canPlayOGG(audioElement);\r\n                result.opus = canPlayOpus(audioElement);\r\n                result.wav = canPlayWAV(audioElement);\r\n                result.webm = canPlayWebM(audioElement);\r\n            }\r\n        }\r\n        catch (error)\r\n        {\r\n            result.audioData = false;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Audio\r\n\r\nimport { canPlayM4A } from './canPlayM4A';\r\nimport { canPlayMP3 } from './canPlayMP3';\r\nimport { canPlayOGG } from './canPlayOGG';\r\nimport { canPlayOpus } from './canPlayOpus';\r\nimport { canPlayWAV } from './canPlayWAV';\r\nimport { canPlayWebM } from './canPlayWebM';\r\nimport { GetAudio } from './GetAudio';\r\nimport { hasAudio } from './hasAudio';\r\nimport { hasWebAudio } from './hasWebAudio';\r\n\r\nexport default {\r\n    canPlayM4A,\r\n    canPlayMP3,\r\n    canPlayOGG,\r\n    canPlayOpus,\r\n    canPlayWAV,\r\n    canPlayWebM,\r\n    GetAudio,\r\n    hasAudio,\r\n    hasWebAudio\r\n};\r\n\r\nexport * from './canPlayM4A';\r\nexport * from './canPlayMP3';\r\nexport * from './canPlayOGG';\r\nexport * from './canPlayOpus';\r\nexport * from './canPlayWAV';\r\nexport * from './canPlayWebM';\r\nexport * from './GetAudio';\r\nexport * from './hasAudio';\r\nexport * from './hasWebAudio';\r\n","export function isChrome (): { chrome: boolean, chromeVersion: number }\r\n{\r\n    const chrome = (/Chrome\\/(\\d+)/).test(navigator.userAgent);\r\n    const chromeVersion = (chrome) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        chrome,\r\n        chromeVersion\r\n    };\r\n}\r\n","export function isEdge (): { edge: boolean }\r\n{\r\n    const edge = (/Edge\\/\\d+/).test(navigator.userAgent);\r\n\r\n    return {\r\n        edge\r\n    };\r\n}\r\n","export function isFirefox (): { firefox: boolean, firefoxVersion: number }\r\n{\r\n    const firefox = (/Firefox\\D+(\\d+)/).test(navigator.userAgent);\r\n    const firefoxVersion = (firefox) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        firefox,\r\n        firefoxVersion\r\n    };\r\n}\r\n","interface IGetIOSResult {\r\n    iOS: boolean;\r\n    iOSVersion: number;\r\n    iPhone: boolean;\r\n    iPad: boolean;\r\n}\r\n\r\nexport function isiOS (): IGetIOSResult\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const result: IGetIOSResult = {\r\n        iOS: false,\r\n        iOSVersion: 0,\r\n        iPhone: false,\r\n        iPad: false\r\n    };\r\n\r\n    if (/iP[ao]d|iPhone/i.test(ua))\r\n    {\r\n        (navigator.appVersion).match(/OS (\\d+)/);\r\n\r\n        result.iOS = true;\r\n        result.iOSVersion = parseInt(RegExp.$1, 10);\r\n        result.iPhone = (ua.toLowerCase().indexOf('iphone') !== -1);\r\n        result.iPad = (ua.toLowerCase().indexOf('ipad') !== -1);\r\n    }\r\n\r\n    return result;\r\n}\r\n","import { isiOS } from '../os/isiOS';\r\n\r\nexport function isMobileSafari (): { mobileSafari: boolean }\r\n{\r\n    const { iOS } = isiOS();\r\n\r\n    const mobileSafari = ((/AppleWebKit/).test(navigator.userAgent) && iOS);\r\n\r\n    return {\r\n        mobileSafari\r\n    };\r\n}\r\n","export function isMSIE (): { ie: boolean, ieVersion: number }\r\n{\r\n    const ie = (/MSIE (\\d+\\.\\d+);/).test(navigator.userAgent);\r\n    const ieVersion = (ie) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        ie,\r\n        ieVersion\r\n    };\r\n}\r\n","export function isOpera (): { opera: boolean }\r\n{\r\n    const opera = (/Opera/).test(navigator.userAgent);\r\n\r\n    return {\r\n        opera\r\n    };\r\n}\r\n","export function isWindowsPhone (): boolean\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return (/Windows Phone/i.test(ua) || (/IEMobile/i).test(ua));\r\n}\r\n","import { isWindowsPhone } from '../os/isWindowsPhone';\r\n\r\nexport function isSafari (): { safari: boolean, safariVersion: number }\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const safari = ((/Safari/).test(ua) && !isWindowsPhone());\r\n    const safariVersion = ((/Version\\/(\\d+)\\./).test(ua)) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        safari,\r\n        safariVersion\r\n    };\r\n}\r\n","export function isSilk (): { silk: boolean }\r\n{\r\n    const silk = (/Silk/).test(navigator.userAgent);\r\n\r\n    return {\r\n        silk\r\n    };\r\n}\r\n","export function isTrident (): { trident: boolean, tridentVersion: number, tridentIEVersion: number }\r\n{\r\n    const trident = (/Trident\\/(\\d+\\.\\d+)(.*)rv:(\\d+\\.\\d+)/).test(navigator.userAgent);\r\n    const tridentVersion = (trident) ? parseInt(RegExp.$1, 10) : 0;\r\n    const tridentIEVersion = (trident) ? parseInt(RegExp.$3, 10) : 0;\r\n\r\n    return {\r\n        trident,\r\n        tridentVersion,\r\n        tridentIEVersion\r\n    };\r\n}\r\n","import { IDeviceBrowserResult } from './IDeviceBrowserResult';\r\nimport { isChrome } from './isChrome';\r\nimport { isEdge } from './isEdge';\r\nimport { isFirefox } from './isFirefox';\r\nimport { isMobileSafari } from './isMobileSafari';\r\nimport { isMSIE } from './isMSIE';\r\nimport { isOpera } from './isOpera';\r\nimport { isSafari } from './isSafari';\r\nimport { isSilk } from './isSilk';\r\nimport { isTrident } from './isTrident';\r\n\r\nexport function GetBrowser (): IDeviceBrowserResult\r\n{\r\n    const { chrome, chromeVersion } = isChrome();\r\n    const { edge } = isEdge();\r\n    const { firefox, firefoxVersion } = isFirefox();\r\n    let { ie, ieVersion } = isMSIE();\r\n    const { mobileSafari } = isMobileSafari();\r\n    const { opera } = isOpera();\r\n    const { safari, safariVersion } = isSafari();\r\n    const { silk } = isSilk();\r\n    const { trident, tridentVersion, tridentIEVersion } = isTrident();\r\n\r\n    if (trident)\r\n    {\r\n        ie = true;\r\n        ieVersion = tridentIEVersion;\r\n    }\r\n\r\n    const result: IDeviceBrowserResult = {\r\n        chrome,\r\n        chromeVersion,\r\n        edge,\r\n        firefox,\r\n        firefoxVersion,\r\n        ie,\r\n        ieVersion,\r\n        mobileSafari,\r\n        opera,\r\n        safari,\r\n        safariVersion,\r\n        silk,\r\n        trident,\r\n        tridentVersion\r\n    };\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Browser\r\n\r\nimport { GetBrowser } from './GetBrowser';\r\nimport { isChrome } from './isChrome';\r\nimport { isEdge } from './isEdge';\r\nimport { isFirefox } from './isFirefox';\r\nimport { isMobileSafari } from './isMobileSafari';\r\nimport { isMSIE } from './isMSIE';\r\nimport { isOpera } from './isOpera';\r\nimport { isSafari } from './isSafari';\r\nimport { isSilk } from './isSilk';\r\nimport { isTrident } from './isTrident';\r\n\r\nexport default {\r\n    GetBrowser,\r\n    isChrome,\r\n    isEdge,\r\n    isFirefox,\r\n    isMobileSafari,\r\n    isMSIE,\r\n    isOpera,\r\n    isSafari,\r\n    isSilk,\r\n    isTrident\r\n};\r\n\r\nexport * from './GetBrowser';\r\nexport * from './isChrome';\r\nexport * from './isEdge';\r\nexport * from './isFirefox';\r\nexport * from './isMobileSafari';\r\nexport * from './isMSIE';\r\nexport * from './isOpera';\r\nexport * from './isSafari';\r\nexport * from './isSilk';\r\nexport * from './isTrident';\r\n","export function isAndroid (): boolean\r\n{\r\n    return (/Android/.test(navigator.userAgent));\r\n}\r\n","export function isChromeOS (): boolean\r\n{\r\n    return (/CrOS/.test(navigator.userAgent));\r\n}\r\n","export function isCordova (): boolean\r\n{\r\n    return (window.hasOwnProperty('cordova'));\r\n}\r\n","export function isCrosswalk (): boolean\r\n{\r\n    return ((/Crosswalk/).test(navigator.userAgent));\r\n}\r\n","export function isEjecta (): boolean\r\n{\r\n    return (window.hasOwnProperty('ejecta'));\r\n}\r\n","export function isNode (): boolean\r\n{\r\n    return (typeof process !== 'undefined' && typeof process.versions === 'object' && process.versions.hasOwnProperty('node'));\r\n}\r\n","import { isNode } from './isNode';\r\n\r\nexport function isElectron (): boolean\r\n{\r\n    return (isNode() && !!process.versions['electron']);\r\n}\r\n","export function isKindle (): boolean\r\n{\r\n    // This will NOT detect early generations of Kindle Fire, I think there is no reliable way...\r\n    // E.g. \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_3; en-us; Silk/1.1.0-80) AppleWebKit/533.16 (KHTML, like Gecko) Version/5.0 Safari/533.16 Silk-Accelerated=true\"\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return ((/Kindle/.test(ua) || (/\\bKF[A-Z][A-Z]+/).test(ua) || (/Silk.*Mobile Safari/).test(ua)));\r\n}\r\n","export function isLinux (): boolean\r\n{\r\n    return (/Linux/.test(navigator.userAgent));\r\n}\r\n","export function isMacOS (): boolean\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    return (/Mac OS/.test(ua) && !(/like Mac OS/.test(ua)));\r\n}\r\n","import { isNode } from './isNode';\r\n\r\nexport function isNodeWebkit (): boolean\r\n{\r\n    return (isNode() && !!process.versions['node-webkit']);\r\n}\r\n","export function isWebApp (): boolean\r\n{\r\n    return (navigator.hasOwnProperty('standalone'));\r\n}\r\n","export function isWindows (): boolean\r\n{\r\n    return (/Windows/.test(navigator.userAgent));\r\n}\r\n","import { IDeviceOSResult } from './IDeviceOSResult';\r\nimport { isAndroid } from './isAndroid';\r\nimport { isChromeOS } from './isChromeOS';\r\nimport { isCordova } from './isCordova';\r\nimport { isCrosswalk } from './isCrosswalk';\r\nimport { isEjecta } from './isEjecta';\r\nimport { isElectron } from './isElectron';\r\nimport { isiOS } from './isiOS';\r\nimport { isKindle } from './isKindle';\r\nimport { isLinux } from './isLinux';\r\nimport { isMacOS } from './isMacOS';\r\nimport { isNode } from './isNode';\r\nimport { isNodeWebkit } from './isNodeWebkit';\r\nimport { isWebApp } from './isWebApp';\r\nimport { isWindows } from './isWindows';\r\nimport { isWindowsPhone } from './isWindowsPhone';\r\n\r\nexport function GetOS (): IDeviceOSResult\r\n{\r\n    const ua: string = navigator.userAgent;\r\n\r\n    const { iOS, iOSVersion, iPad, iPhone } = isiOS();\r\n\r\n    const result: IDeviceOSResult = {\r\n        android: isAndroid(),\r\n        chromeOS: isChromeOS(),\r\n        cordova: isCordova(),\r\n        crosswalk: isCrosswalk(),\r\n        desktop: false,\r\n        ejecta: isEjecta(),\r\n        electron: isElectron(),\r\n        iOS,\r\n        iOSVersion,\r\n        iPad,\r\n        iPhone,\r\n        kindle: isKindle(),\r\n        linux: isLinux(),\r\n        macOS: isMacOS(),\r\n        node: isNode(),\r\n        nodeWebkit: isNodeWebkit(),\r\n        pixelRatio: 1,\r\n        webApp: isWebApp(),\r\n        windows: isWindows(),\r\n        windowsPhone: isWindowsPhone()\r\n    };\r\n\r\n    if (result.windowsPhone)\r\n    {\r\n        result.android = false;\r\n        result.iOS = false;\r\n        result.macOS = false;\r\n        result.windows = true;\r\n    }\r\n\r\n    const silk: boolean = (/Silk/).test(ua);\r\n\r\n    if (result.windows || result.macOS || (result.linux && !silk) || result.chromeOS)\r\n    {\r\n        result.desktop = true;\r\n    }\r\n\r\n    //  Windows Phone / Table reset\r\n    if (result.windowsPhone || ((/Windows NT/i.test(ua)) && (/Touch/i.test(ua))))\r\n    {\r\n        result.desktop = false;\r\n    }\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.OS\r\n\r\nimport { GetOS } from './GetOS';\r\nimport { isAndroid } from './isAndroid';\r\nimport { isChromeOS } from './isChromeOS';\r\nimport { isCordova } from './isCordova';\r\nimport { isCrosswalk } from './isCrosswalk';\r\nimport { isEjecta } from './isEjecta';\r\nimport { isElectron } from './isElectron';\r\nimport { isiOS } from './isiOS';\r\nimport { isKindle } from './isKindle';\r\nimport { isLinux } from './isLinux';\r\nimport { isMacOS } from './isMacOS';\r\nimport { isNode } from './isNode';\r\nimport { isNodeWebkit } from './isNodeWebkit';\r\nimport { isWebApp } from './isWebApp';\r\nimport { isWindows } from './isWindows';\r\nimport { isWindowsPhone } from './isWindowsPhone';\r\n\r\nexport default {\r\n    GetOS,\r\n    isAndroid,\r\n    isChromeOS,\r\n    isCordova,\r\n    isCrosswalk,\r\n    isEjecta,\r\n    isElectron,\r\n    isiOS,\r\n    isKindle,\r\n    isLinux,\r\n    isMacOS,\r\n    isNode,\r\n    isNodeWebkit,\r\n    isWebApp,\r\n    isWindows,\r\n    isWindowsPhone\r\n};\r\n\r\nexport * from './GetOS';\r\nexport * from './isAndroid';\r\nexport * from './isChromeOS';\r\nexport * from './isCordova';\r\nexport * from './isCrosswalk';\r\nexport * from './isEjecta';\r\nexport * from './isElectron';\r\nexport * from './isiOS';\r\nexport * from './isKindle';\r\nexport * from './isLinux';\r\nexport * from './isMacOS';\r\nexport * from './isNode';\r\nexport * from './isNodeWebkit';\r\nexport * from './isWebApp';\r\nexport * from './isWindows';\r\nexport * from './isWindowsPhone';\r\n","export function canPlayH264Video (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/mp4; codecs=\"avc1.42E01E\"') !== '');\r\n}\r\n","export function canPlayHLSVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('application/x-mpegURL; codecs=\"avc1.42E01E\"') !== '');\r\n}\r\n","export function canPlayOGGVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/ogg; codecs=\"theora\"') !== '');\r\n}\r\n","export function canPlayVP9Video (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/webm; codecs=\"vp9\"') !== '');\r\n}\r\n","export function canPlayWebMVideo (videoElement: HTMLVideoElement = document.createElement('video')): boolean\r\n{\r\n    return (videoElement.canPlayType('video/webm; codecs=\"vp8, vorbis\"') !== '');\r\n}\r\n","import { canPlayH264Video } from './canPlayH264Video';\r\nimport { canPlayHLSVideo } from './canPlayHLSVideo';\r\nimport { canPlayOGGVideo } from './canPlayOGGVideo';\r\nimport { canPlayVP9Video } from './canPlayVP9Video';\r\nimport { canPlayWebMVideo } from './canPlayWebMVideo';\r\nimport { IDeviceVideoResult } from './IDeviceVideoResult';\r\n\r\nexport function GetVideo (): IDeviceVideoResult\r\n{\r\n    const result: IDeviceVideoResult = {\r\n        h264Video: false,\r\n        hlsVideo: false,\r\n        mp4Video: false,\r\n        oggVideo: false,\r\n        vp9Video: false,\r\n        webmVideo: false\r\n    };\r\n\r\n    const videoElement: HTMLVideoElement = document.createElement('video');\r\n\r\n    // IE9 Running on Windows Server SKU can cause an exception to be thrown\r\n    try\r\n    {\r\n        const canPlay: boolean = !!videoElement.canPlayType;\r\n\r\n        if (canPlay)\r\n        {\r\n            result.h264Video = canPlayH264Video(videoElement);\r\n            result.hlsVideo = canPlayHLSVideo(videoElement);\r\n            result.oggVideo = canPlayOGGVideo(videoElement);\r\n            result.vp9Video = canPlayVP9Video(videoElement);\r\n            result.webmVideo = canPlayWebMVideo(videoElement);\r\n        }\r\n    }\r\n    catch (error)\r\n    {\r\n        //  Nothing to do here\r\n    }\r\n\r\n    //  Duplicate the result for Phaser 3 compatibility\r\n    result.mp4Video = result.hlsVideo;\r\n\r\n    return result;\r\n}\r\n","//  @namespace Phaser.Device.Video\r\n\r\nimport { canPlayH264Video } from './canPlayH264Video';\r\nimport { canPlayHLSVideo } from './canPlayHLSVideo';\r\nimport { canPlayOGGVideo } from './canPlayOGGVideo';\r\nimport { canPlayVP9Video } from './canPlayVP9Video';\r\nimport { canPlayWebMVideo } from './canPlayWebMVideo';\r\nimport { GetVideo } from './GetVideo';\r\n\r\nexport default {\r\n    canPlayH264Video,\r\n    canPlayHLSVideo,\r\n    canPlayOGGVideo,\r\n    canPlayVP9Video,\r\n    canPlayWebMVideo,\r\n    GetVideo\r\n};\r\n\r\nexport * from './canPlayH264Video';\r\nexport * from './canPlayHLSVideo';\r\nexport * from './canPlayOGGVideo';\r\nexport * from './canPlayVP9Video';\r\nexport * from './canPlayWebMVideo';\r\nexport * from './GetVideo';\r\n","//  @namespace Phaser.Device\r\n\r\nimport { default as Audio } from './audio/';\r\nimport { default as Browser } from './browser/';\r\nimport { default as OS } from './os/';\r\nimport { default as Video } from './video/';\r\n\r\nexport default {\r\n    Audio,\r\n    Browser,\r\n    OS,\r\n    Video\r\n};\r\n\r\nexport * from './audio/';\r\nexport * from './browser/';\r\nexport * from './os/';\r\nexport * from './video/';\r\n","export function AddToDOM (element: HTMLElement, parent?: string | HTMLElement): HTMLElement\r\n{\r\n    let target: HTMLElement;\r\n\r\n    if (parent)\r\n    {\r\n        if (typeof parent === 'string')\r\n        {\r\n            //  Hopefully an element ID\r\n            target = document.getElementById(parent);\r\n        }\r\n        else if (typeof parent === 'object' && parent.nodeType === 1)\r\n        {\r\n            //  Quick test for a HTMLElement\r\n            target = parent;\r\n        }\r\n    }\r\n    else if (element.parentElement)\r\n    {\r\n        return element;\r\n    }\r\n\r\n    //  Fallback, covers an invalid ID and a non HTMLElement object\r\n    if (!target)\r\n    {\r\n        target = document.body;\r\n    }\r\n\r\n    target.appendChild(element);\r\n\r\n    return element;\r\n}\r\n","import { isCordova } from '../device/os/isCordova';\r\n\r\nexport function DOMContentLoaded (callback: () => void)\r\n{\r\n    if (document.readyState === 'complete' || document.readyState === 'interactive')\r\n    {\r\n        callback();\r\n\r\n        return;\r\n    }\r\n\r\n    const check = () =>\r\n    {\r\n        document.removeEventListener('deviceready', check, true);\r\n        document.removeEventListener('DOMContentLoaded', check, true);\r\n        window.removeEventListener('load', check, true);\r\n\r\n        callback();\r\n    };\r\n\r\n    if (!document.body)\r\n    {\r\n        window.setTimeout(check, 20);\r\n    }\r\n    else if (isCordova())\r\n    {\r\n        document.addEventListener('deviceready', check, true);\r\n    }\r\n    else\r\n    {\r\n        document.addEventListener('DOMContentLoaded', check, true);\r\n        window.addEventListener('load', check, true);\r\n    }\r\n}\r\n","export function isChrome (): { chrome: boolean, chromeVersion: number, bobVersion: number }\r\n{\r\n    const chrome = (/Chrome\\/(\\d+)/).test(navigator.userAgent);\r\n    const chromeVersion = (chrome) ? parseInt(RegExp.$1, 10) : 0;\r\n\r\n    return {\r\n        chrome,\r\n        chromeVersion,\r\n        bobVersion: 1243\r\n    };\r\n}\r\n","export function RemoveFromDOM (element: HTMLElement)\r\n{\r\n    if (element.parentNode)\r\n    {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n}\r\n","//  @namespace Phaser.DOM\r\n\r\nimport { AddToDOM } from './AddToDOM';\r\nimport { DOMContentLoaded } from './DOMContentLoaded';\r\nimport { isChrome } from './isChrome';\r\nimport { RemoveFromDOM } from './RemoveFromDOM';\r\n\r\nexport default {\r\n    AddToDOM,\r\n    DOMContentLoaded,\r\n    isChrome,\r\n    RemoveFromDOM\r\n};\r\n\r\nexport * from './AddToDOM';\r\nexport * from './DOMContentLoaded';\r\nexport * from './isChrome';\r\nexport * from './RemoveFromDOM';\r\n","import { AddToDOM } from './dom/AddToDOM';\r\nimport { DOMContentLoaded } from './dom/DOMContentLoaded';\r\n\r\nexport class Game\r\n{\r\n    canvas: HTMLCanvasElement;\r\n    context: CanvasRenderingContext2D;\r\n\r\n    isBooted: boolean = false;\r\n    isRunning: boolean = false;\r\n    \r\n    private _initCallback: (game: Game) => void;\r\n\r\n    constructor (init: (game: Game) => void)\r\n    {\r\n        this._initCallback = init;\r\n\r\n        DOMContentLoaded(() => this.boot());\r\n    }\r\n\r\n    boot ()\r\n    {\r\n        console.log('Phaser 4.0.0-alpha.3');\r\n\r\n        this.isBooted = true;\r\n\r\n        this.createDebugCanvas();\r\n\r\n        AddToDOM(this.canvas);\r\n\r\n        this._initCallback(this);\r\n    }\r\n\r\n    createDebugCanvas (width: number = 800, height: number = 600)\r\n    {\r\n        this.canvas = document.createElement('canvas');\r\n\r\n        this.canvas.width = width;\r\n        this.canvas.height = height;\r\n\r\n        this.context = this.canvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n        this.context.fillStyle = '#2d2d2d';\r\n        this.context.fillRect(0, 0, width, height);\r\n    }\r\n\r\n    drawImage (image: CanvasImageSource, x: number = 0, y: number = 0)\r\n    {\r\n        this.context.drawImage(image, x, y);\r\n    }\r\n\r\n    draw (text: string)\r\n    {\r\n        this.context.fillStyle = '#ff0000';\r\n        this.context.fillText(text, 10, 40);\r\n        this.context.fillStyle = '#0000ff';\r\n        this.context.fillText(text, 10, 20);\r\n        this.context.fillStyle = '#ffff00';\r\n        this.context.fillText(text, 10, 60);\r\n    }\r\n\r\n    text (x: number, y: number, text: string)\r\n    {\r\n        this.context.fillStyle = '#00ff00';\r\n        this.context.font = '16px Courier';\r\n        this.context.fillText(text, x, y);\r\n    }\r\n\r\n}\r\n","export enum BaseLoaderState {\r\n    IDLE = 0,\r\n    LOADING = 1,\r\n    PROCESSING = 2,\r\n    COMPLETE = 3,\r\n    SHUTDOWN = 4,\r\n    DESTROYED = 5\r\n}\r\n","export enum FileState {\r\n    PENDING = 0,\r\n    LOADING = 1,\r\n    LOADED = 2,\r\n    FAILED = 3,\r\n    PROCESSING = 4,\r\n    ERRORED = 5,\r\n    COMPLETE = 6,\r\n    DESTROYED = 7,\r\n    POPULATED = 8,\r\n    TIMED_OUT = 9,\r\n    ABORTED = 10\r\n}\r\n","import { BaseLoaderState } from './BaseLoaderState';\r\nimport { IFile } from './File';\r\nimport { FileState } from './FileState';\r\n\r\nexport class BaseLoader\r\n{\r\n    fileGroup: string = '';\r\n    prefix: string = '';\r\n    baseURL: string = '';\r\n    path: string = '';\r\n    maxParallelDownloads: number = 32;\r\n    crossOrigin: string = '';\r\n\r\n    state: BaseLoaderState = BaseLoaderState.IDLE;\r\n\r\n    progress: number = 0;\r\n\r\n    totalToLoad: number = 0;\r\n    totalFailed: number = 0;\r\n    totalComplete: number = 0;\r\n\r\n    list: Set<IFile> = new Set();\r\n    inflight: Set<IFile> = new Set();\r\n    queue: Set<IFile> = new Set();\r\n\r\n    private _deleteQueue: Set<IFile> = new Set();\r\n\r\n    constructor ()\r\n    {\r\n        this.state = BaseLoaderState.IDLE;\r\n    }\r\n\r\n    setBaseURL (value: string = '')\r\n    {\r\n        if (value !== '' && value.substr(-1) !== '/')\r\n        {\r\n            value = value.concat('/');\r\n        }\r\n\r\n        this.baseURL = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    setPath (value: string = '')\r\n    {\r\n        if (value !== '' && value.substr(-1) !== '/')\r\n        {\r\n            value = value.concat('/');\r\n        }\r\n\r\n        this.path = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    setFileGroup (name: string = '')\r\n    {\r\n        this.fileGroup = name;\r\n\r\n        return this;\r\n    }\r\n\r\n    isLoading (): boolean\r\n    {\r\n        return (this.state === BaseLoaderState.LOADING || this.state === BaseLoaderState.PROCESSING);\r\n    }\r\n\r\n    isReady (): boolean\r\n    {\r\n        return (this.state === BaseLoaderState.IDLE || this.state === BaseLoaderState.COMPLETE);\r\n    }\r\n\r\n    addFile (file: IFile): Promise<any>\r\n    {\r\n        console.log('addFile');\r\n\r\n        this.getURL(file);\r\n\r\n        this.list.add(file);\r\n\r\n        this.totalToLoad++;\r\n\r\n        console.log(file);\r\n\r\n        return new Promise(\r\n            (resolve, reject) => {\r\n                file.fileResolve = resolve;\r\n                file.fileReject = reject;\r\n            }\r\n        );\r\n    }\r\n\r\n    start ()\r\n    {\r\n        if (!this.isReady())\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.progress = 0;\r\n\r\n        this.totalFailed = 0;\r\n        this.totalComplete = 0;\r\n        this.totalToLoad = this.list.size;\r\n\r\n        if (this.totalToLoad === 0)\r\n        {\r\n            this.loadComplete();\r\n        }\r\n        else\r\n        {\r\n            this.state = BaseLoaderState.LOADING;\r\n\r\n            this.inflight.clear();\r\n            this.queue.clear();\r\n            this._deleteQueue.clear();\r\n\r\n            this.updateProgress();\r\n\r\n            this.checkLoadQueue();\r\n        }\r\n    }\r\n\r\n    private getURL (file: IFile)\r\n    {\r\n        if (file.url.match(/^(?:blob:|data:|http:\\/\\/|https:\\/\\/|\\/\\/)/))\r\n        {\r\n            return file;\r\n        }\r\n        else\r\n        {\r\n            file.url = this.baseURL + this.path + file.url;\r\n        }\r\n    }\r\n\r\n    private updateProgress (): void\r\n    {\r\n        this.progress = 1 - ((this.list.size + this.inflight.size) / this.totalToLoad);\r\n    }\r\n\r\n    private checkLoadQueue ()\r\n    {\r\n        for (const entry of this.list)\r\n        {\r\n            if ((entry.state === FileState.POPULATED) ||\r\n                (entry.state === FileState.PENDING && this.inflight.size < this.maxParallelDownloads))\r\n            {\r\n                this.inflight.add(entry);\r\n\r\n                this.list.delete(entry);\r\n\r\n                //  Apply CORS\r\n\r\n                entry.load()\r\n                    .then((file) => this.nextFile(file, true))\r\n                    .catch((file) => this.nextFile(file, false));\r\n            }\r\n\r\n            if (this.inflight.size === this.maxParallelDownloads)\r\n            {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private nextFile (previousFile, success)\r\n    {\r\n        console.log('nextFile', previousFile, success);\r\n\r\n        if (success)\r\n        {\r\n            this.queue.add(previousFile);\r\n        }\r\n        else\r\n        {\r\n            this._deleteQueue.add(previousFile);\r\n        }\r\n\r\n        this.inflight.delete(previousFile);\r\n\r\n        if (this.list.size > 0)\r\n        {\r\n            console.log('nextFile - still something in the list');\r\n            this.checkLoadQueue();\r\n        }\r\n        else if (this.inflight.size === 0)\r\n        {\r\n            console.log('nextFile calling finishedLoading');\r\n            this.loadComplete();\r\n        }\r\n    }\r\n\r\n    private loadComplete ()\r\n    {\r\n        this.list.clear();\r\n        this.inflight.clear();\r\n\r\n        // this.queue.clear();\r\n\r\n        this.progress = 1;\r\n\r\n        this.state = BaseLoaderState.COMPLETE;\r\n\r\n        //  Call 'destroy' on each file ready for deletion\r\n        // this._deleteQueue.iterateLocal('destroy');\r\n\r\n        // this._deleteQueue.clear();\r\n    }\r\n\r\n}\r\n","import { IFile } from './File';\r\nimport { IXHRSettings } from './XHRSettings';\r\n\r\nexport function XHRLoader (file: IFile)\r\n{\r\n    const xhr = new XMLHttpRequest();\r\n\r\n    file.xhrLoader = xhr;\r\n\r\n    const config: IXHRSettings = file.xhrSettings;\r\n\r\n    xhr.open('GET', file.url, config.async, config.username, config.password);\r\n\r\n    xhr.responseType = config.responseType;\r\n    xhr.timeout = config.timeout;\r\n    xhr.setRequestHeader('X-Requested-With', config.requestedWith);\r\n\r\n    if (config.header && config.headerValue)\r\n    {\r\n        xhr.setRequestHeader(config.header, config.headerValue);\r\n    }\r\n\r\n    if (config.overrideMimeType)\r\n    {\r\n        xhr.overrideMimeType(config.overrideMimeType);\r\n    }\r\n\r\n    const onLoadStart = (event: ProgressEvent) => file.onLoadStart(event);\r\n    const onLoad = (event: ProgressEvent) => file.onLoad(event);\r\n    const onLoadEnd = (event: ProgressEvent) => file.onLoadEnd(event);\r\n    const onProgress = (event: ProgressEvent) => file.onProgress(event);\r\n    const onTimeout = (event: ProgressEvent) => file.onTimeout(event);\r\n    const onAbort = (event: ProgressEvent) => file.onAbort(event);\r\n    const onError = (event: ProgressEvent) => file.onError(event);\r\n\r\n    const eventMap = new Map([\r\n        [ 'loadstart', onLoadStart ],\r\n        [ 'load', onLoad ],\r\n        [ 'loadend', onLoadEnd ],\r\n        [ 'progress', onProgress ],\r\n        [ 'timeout', onTimeout ],\r\n        [ 'abort', onAbort ],\r\n        [ 'error', onError ]\r\n    ]);\r\n\r\n    for (const [ key, value ] of eventMap)\r\n    {\r\n        xhr.addEventListener(key, value);\r\n    }\r\n\r\n    file.resetXHR = () =>\r\n    {\r\n        for (const [ key, value ] of eventMap)\r\n        {\r\n            xhr.removeEventListener(key, value);\r\n        }\r\n    \r\n        // xhr.removeEventListener('loadstart', onLoadStart);\r\n        // xhr.removeEventListener('load', onLoad);\r\n        // xhr.removeEventListener('loadend', onLoadEnd);\r\n        // xhr.removeEventListener('progress', onProgress);\r\n        // xhr.removeEventListener('timeout', onTimeout);\r\n        // xhr.removeEventListener('abort', onAbort);\r\n        // xhr.removeEventListener('error', onError);\r\n    };\r\n\r\n    // xhr.addEventListener('loadstart', onLoadStart);\r\n    // xhr.addEventListener('load', onLoad);\r\n    // xhr.addEventListener('loadend', onLoadEnd);\r\n    // xhr.addEventListener('progress', onProgress);\r\n    // xhr.addEventListener('timeout', onTimeout);\r\n    // xhr.addEventListener('abort', onAbort);\r\n    // xhr.addEventListener('error', onError);\r\n\r\n    //  After a successful request, the xhr.response property will contain the requested data as a DOMString,\r\n    //  ArrayBuffer, Blob, or Document (depending on what was set for responseType.)\r\n\r\n    xhr.send();\r\n}\r\n","export interface IXHRSettings {\r\n    responseType: XMLHttpRequestResponseType;\r\n    async: boolean;\r\n    username: string;\r\n    password: string;\r\n    timeout: number;\r\n    header?: string;\r\n    headerValue?: string;\r\n    requestedWith?: string;\r\n    overrideMimeType?: string;\r\n}\r\n\r\nexport function XHRSettings (config: IXHRSettings = { responseType:  'blob', async: true, username: '', password: '', timeout: 0 }): IXHRSettings\r\n{\r\n    // Before sending a request, set the xhr.responseType to \"text\",\r\n    // \"arraybuffer\", \"blob\", or \"document\", depending on your data needs.\r\n    // Note, setting xhr.responseType = '' (or omitting) will default the response to \"text\".\r\n\r\n    return {\r\n\r\n        //  Ignored by the Loader, only used by File.\r\n        responseType: config.responseType,\r\n\r\n        async: config.async,\r\n\r\n        //  credentials\r\n        username: config.username,\r\n        password: config.password,\r\n\r\n        //  timeout in ms (0 = no timeout)\r\n        timeout: config.timeout,\r\n\r\n        //  setRequestHeader\r\n        header: undefined,\r\n        headerValue: undefined,\r\n        requestedWith: 'XMLHttpRequest',\r\n\r\n        //  overrideMimeType\r\n        overrideMimeType: undefined\r\n\r\n    };\r\n}\r\n","import { FileState } from './FileState';\r\nimport { XHRLoader } from './XHRLoader';\r\nimport { IXHRSettings, XHRSettings } from './XHRSettings';\r\n\r\nexport interface IFile {\r\n\r\n    key: string;\r\n    url: string;\r\n    type: string;\r\n\r\n    bytesLoaded: number;\r\n    bytesTotal: number;\r\n    percentComplete: number;\r\n\r\n    xhrSettings: IXHRSettings;\r\n    xhrLoader?: XMLHttpRequest;\r\n\r\n    data: any;\r\n    state: FileState;\r\n\r\n    load: () => Promise<any>;\r\n\r\n    resetXHR?: () => void;\r\n\r\n    fileResolve?: () => void;\r\n    fileReject?: () => void;\r\n    loaderResolve?: () => void;\r\n    loaderReject?: () => void;\r\n\r\n    // The loadstart event is fired when a request has started to load data.\r\n    onLoadStart: (event: ProgressEvent) => void;\r\n\r\n    // The load event is fired when an XMLHttpRequest transaction completes successfully.\r\n    onLoad: (event: ProgressEvent) => void;\r\n\r\n    // The loadend event is fired when a request has completed, whether successfully (after load) or unsuccessfully\r\n    onLoadEnd: (event: ProgressEvent) => void;\r\n\r\n    // The progress event is fired periodically when a request receives more data.\r\n    onProgress: (event: ProgressEvent) => void;\r\n\r\n    // The timeout event is fired when progression is terminated due to preset time expiring.\r\n    onTimeout: (event: ProgressEvent) => void;\r\n\r\n    // The abort event is fired when a request has been aborted, for example because the program called XMLHttpRequest.abort().\r\n    onAbort: (event: ProgressEvent) => void;\r\n\r\n    // The error event is fired when the request encountered an error.\r\n    onError: (event: ProgressEvent) => void;\r\n\r\n    onProcess: () => Promise<any>;\r\n    onComplete: () => void;\r\n    onDestroy: () => void;\r\n}\r\n\r\nexport function File (key: string, url: string, type: string): IFile\r\n{\r\n    return {\r\n\r\n        key,\r\n        url,\r\n        type,\r\n\r\n        xhrLoader: undefined,\r\n        xhrSettings: XHRSettings(),\r\n\r\n        data: null,\r\n        state: FileState.PENDING,\r\n\r\n        bytesLoaded: 0,\r\n        bytesTotal: 0,\r\n        percentComplete: 0,\r\n\r\n        load (): Promise<any>\r\n        {\r\n            console.log('File.load', this.key);\r\n\r\n            this.state = FileState.PENDING;\r\n\r\n            XHRLoader(this);\r\n\r\n            return new Promise(\r\n                (resolve, reject) => {\r\n                    this.loaderResolve = resolve;\r\n                    this.loaderReject = reject;\r\n                }\r\n            );\r\n        },\r\n\r\n        onLoadStart (event: ProgressEvent)\r\n        {\r\n            console.log('onLoadStart');\r\n\r\n            this.state = FileState.LOADING;\r\n        },\r\n\r\n        onLoad (event: ProgressEvent)\r\n        {\r\n            console.log('onLoad');\r\n\r\n            const xhr = this.xhrLoader;\r\n\r\n            const localFileOk = ((xhr.responseURL && xhr.responseURL.indexOf('file://') === 0 && xhr.status === 0));\r\n\r\n            let success = !(event.target && xhr.status !== 200) || localFileOk;\r\n\r\n            //  Handle HTTP status codes of 4xx and 5xx as errors, even if xhr.onerror was not called.\r\n            if (xhr.readyState === 4 && xhr.status >= 400 && xhr.status <= 599)\r\n            {\r\n                success = false;\r\n            }\r\n\r\n            this.onProcess()\r\n                .then(() => this.onComplete())\r\n                .catch(() => this.onError());\r\n        },\r\n\r\n        onLoadEnd (event: ProgressEvent)\r\n        {\r\n            console.log('onLoadEnd');\r\n\r\n            this.resetXHR();\r\n\r\n            this.state = FileState.LOADED;\r\n        },\r\n\r\n        onTimeout (event: ProgressEvent)\r\n        {\r\n            console.log('onTimeout');\r\n\r\n            this.state = FileState.TIMED_OUT;\r\n        },\r\n\r\n        onAbort (event: ProgressEvent)\r\n        {\r\n            console.log('onAbort');\r\n\r\n            this.state = FileState.ABORTED;\r\n        },\r\n\r\n        onError (event: ProgressEvent)\r\n        {\r\n            console.log('onError');\r\n\r\n            this.state = FileState.ERRORED;\r\n\r\n            if (this.fileReject)\r\n            {\r\n                this.fileReject(this);\r\n            }\r\n        },\r\n\r\n        onProgress (event: ProgressEvent)\r\n        {\r\n            console.log('onProgress');\r\n\r\n            if (event.lengthComputable)\r\n            {\r\n                this.bytesLoaded = event.loaded;\r\n                this.bytesTotal = event.total;\r\n                this.percentComplete = Math.min((event.loaded / event.total), 1);\r\n\r\n                console.log(this.percentComplete, '%');\r\n            }\r\n        },\r\n\r\n        onProcess (): Promise<any>\r\n        {\r\n            console.log('File.onProcess');\r\n\r\n            this.state = FileState.PROCESSING;\r\n\r\n            return new Promise(\r\n                (resolve, reject) => {\r\n                    resolve();\r\n                }\r\n            );\r\n        },\r\n\r\n        onComplete ()\r\n        {\r\n            console.log('onComplete!');\r\n            \r\n            this.state = FileState.COMPLETE;\r\n\r\n            if (this.fileResolve)\r\n            {\r\n                this.fileResolve(this);\r\n            }\r\n            else if (this.loaderResolve)\r\n            {\r\n                this.loaderResolve(this);\r\n            }\r\n        },\r\n\r\n        onDestroy ()\r\n        {\r\n            this.state = FileState.DESTROYED;\r\n        }\r\n\r\n    };\r\n}\r\n","import { File, IFile } from '../File';\r\nimport { FileState } from '../FileState';\r\n\r\nexport function ImageFile (key: string, url?: string): IFile\r\n{\r\n    if (!url)\r\n    {\r\n        url = key + '.png';\r\n    }\r\n\r\n    const file = File(key, url, 'image');\r\n\r\n    file.xhrSettings.responseType = 'blob';\r\n\r\n    file.onProcess = () => {\r\n\r\n        console.log('ImageFile.onProcess');\r\n\r\n        file.state = FileState.PROCESSING;\r\n\r\n        const image = new Image();\r\n\r\n        file.data = image;\r\n\r\n        // if (file.crossOrigin)\r\n        // {\r\n        //     image.crossOrigin = file.crossOrigin;\r\n        // }\r\n\r\n        return new Promise(\r\n            (resolve, reject) => {\r\n\r\n                image.onload = () => {\r\n                    console.log('ImageFile.onload');\r\n                    image.onload = null;\r\n                    image.onerror = null;\r\n                    file.state = FileState.COMPLETE;\r\n                    resolve(file);\r\n                };\r\n\r\n                image.onerror = (event) => {\r\n                    console.log('ImageFile.onerror');\r\n                    image.onload = null;\r\n                    image.onerror = null;\r\n                    file.state = FileState.FAILED;\r\n                    reject(file);\r\n                };\r\n\r\n                console.log('ImageFile.set src', file.url);\r\n                image.src = file.url;\r\n\r\n                //  Image is immediately-available or cached\r\n                if (image.complete && image.width && image.height)\r\n                {\r\n                    console.log('ImageFile.instant');\r\n                    image.onload = null;\r\n                    image.onerror = null;\r\n                    file.state = FileState.COMPLETE;\r\n                    resolve(file);\r\n                }\r\n\r\n            }\r\n        );\r\n\r\n    };\r\n\r\n    return file;\r\n}\r\n","// @namespace Phaser.Loader.FileTypes\r\n\r\nimport { ImageFile } from './ImageFile';\r\n\r\nexport default {\r\n    ImageFile\r\n};\r\n\r\nexport * from './ImageFile';\r\n","import { BaseLoader } from './BaseLoader';\r\nimport { ImageFile } from './filetypes/ImageFile';\r\n\r\nexport class LoaderPlugin extends BaseLoader\r\n{\r\n    constructor ()\r\n    {\r\n        super();\r\n    }\r\n\r\n    image (key: string, url: string = ''): Promise<any>\r\n    {\r\n        return this.addFile(ImageFile(key, url));\r\n    }\r\n}\r\n","//  @namespace Phaser.Loader\r\n\r\nimport { BaseLoader } from './BaseLoader';\r\nimport { BaseLoaderState } from './BaseLoaderState';\r\nimport { File } from './File';\r\nimport { FileState } from './FileState';\r\nimport * as FileTypes from './filetypes/';\r\nimport { LoaderPlugin } from './LoaderPlugin';\r\nimport { XHRLoader } from './XHRLoader';\r\nimport { XHRSettings } from './XHRSettings';\r\n\r\nexport default {\r\n    BaseLoader,\r\n    BaseLoaderState,\r\n    File,\r\n    FileState,\r\n    LoaderPlugin,\r\n    XHRLoader,\r\n    XHRSettings,\r\n    FileTypes\r\n};\r\n\r\nexport * from './BaseLoader';\r\nexport * from './BaseLoaderState';\r\nexport * from './File';\r\nexport * from './FileState';\r\nexport * from './LoaderPlugin';\r\nexport * from './XHRLoader';\r\nexport * from './XHRSettings';\r\n\r\nexport * from './filetypes/';\r\n","//  @namespace Phaser\r\n\r\nimport { default as Device } from './device/';\r\nimport { default as DOM } from './dom/';\r\nimport { Game } from './Game';\r\nimport { default as Loader } from './loader/';\r\n\r\nexport default {\r\n    Game,\r\n    Device,\r\n    DOM,\r\n    Loader\r\n};\r\n\r\nexport * from './device/';\r\nexport * from './dom/';\r\nexport * from './Game';\r\nexport * from './loader/';\r\n"],"names":["isChrome"],"mappings":"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"}